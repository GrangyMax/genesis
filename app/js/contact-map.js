$(document).ready(()=>{let e=document.getElementById("contacts-map");e.addEventListener("mouseover",function(){if(!a){let e=document.getElementById("ymaps-api-loader");a=!0,e.setAttribute("src","https://api-maps.yandex.ru/2.1/?load=package.standard&lang=ru-RU&amp;amp;apikey=df578316-6785-45a9-beaa-8c9ad78839de")}console.log("API карты загружен")},{once:!0,passive:!0,capture:!0});let a=!1;function t(){e.style.background="0",console.log("карта сформирована");const a={mapId:"contacts-map",mapZoomMargin:15,clinicBlockSelector:".pricing-box",placemark:{imageSize:40}};let t,o;ymaps.ready(function(){t=ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),o={iconLayout:"default#imageWithContent",iconImageSize:[a.placemark.imageSize,a.placemark.imageSize],iconImageOffset:[-a.placemark.imageSize/2,-a.placemark.imageSize/2],iconContentOffset:[15,15],iconContentLayout:t}}),function(e){let t=[];for(let a of e){if(!/^\[(\d+(\.\d+)?),\s*(\d+(\.\d+)?)\]$/.test(a.dataset.placemarkCoord)){console.warn(`Invalid placemark-coord (${a.dataset.placemarkCoord}).`,a);continue}let e={coord:JSON.parse(a.dataset.placemarkCoord),hint:a.dataset.placemarkHint,address:a.dataset.placemarkAddress,url:a.dataset.placemarkUrl,timework:a.dataset.placemarkTimework,image:a.dataset.placemarkImageSrc,phone:a.dataset.placemarkPhone};t.push(e)}const n=t.map(e=>e.coord);n.x=n.map(e=>e[0]),n.y=n.map(e=>e[1]),n.min={x:Math.min(...n.x),y:Math.min(...n.y)},n.max={x:Math.max(...n.x),y:Math.max(...n.y)},ymaps.ready(function(){const e=$(`#${a.mapId}`),r=ymaps.util.bounds.getCenterAndZoom([[n.min.x,n.min.y],[n.max.x,n.max.y]],[e.width(),e.height()]);let i=window.contactsMap=new ymaps.Map(e[0],r,{searchControlProvider:"yandex#search"}),c=window.mapObjectManager=new ymaps.ObjectManager({clusterize:!0,gridSize:a.placemark.imageSize,zoomMargin:128});c.clusters.options.set({preset:"islands#orangeClusterIcons"}),i.geoObjects.add(c),function(e,a,t){let o=0;for(const n of a){t.iconImageHref=n.image;let a={type:"Feature",id:o++,geometry:{type:"Point",coordinates:n.coord},properties:{hintContent:n.hint,balloonContent:"<strong>"+n.hint+"</strong><br><strong> Адрес: </strong>"+n.address+"<br> <strong>График работы: </strong> <br>"+n.timework+"<br><strong>Тел.:</strong>"+n.phone+"<hr><a href="+n.url+">Подробнее</a>",clusterCaption:n.hint},options:t};e.add(a)}}(c,t,o)})}(document.querySelectorAll(a.clinicBlockSelector))}window.ymaps?t():$("#ymaps-api-loader").on("load",e=>{t()})});